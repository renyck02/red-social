{"version":3,"sources":["modalAmigos.js"],"names":["lupa","document","getElementById","modal","input","onclick","classList","toggle","addEventListener","busqueda","this","value","length","async","datos","FormData","append","url","respuesta","fetch","method","body","resultado","json","console","log","resultados","innerHTML","forEach","e","usuario","createElement","add","imagen","appendChild","nickname","textContent","botonAgregar","dataset","id","mostrarResultados","error","busquedaUsuarios"],"mappings":"CAAA,WACA,MAAAA,EAAAC,SAAAC,eAAA,QACA,GAAAF,EAAA,CACA,MAAAG,EAAAF,SAAAC,eAAA,YACAE,EAAAH,SAAAC,eAAA,mBACAF,EAAAK,QAAA,WACAF,EAAAG,UAAAC,OAAA,YAEAH,EAAAI,iBAAA,SAAA,WACA,IAAAC,EAAAC,KAAAC,MACAF,EAAAG,OAAA,GAKAC,eAAAJ,GACA,MAAAK,EAAA,IAAAC,SACAD,EAAAE,OAAA,WAAAP,GACA,IACA,MAAAQ,EAAA,2CACAC,QAAAC,MAAAF,EAAA,CACAG,OAAA,OACAC,KAAAP,IAEAQ,QAAAJ,EAAAK,OACAD,GAOA,SAAAb,GACAe,QAAAC,IAAAhB,GACA,MAAAiB,EAAAzB,SAAAC,eAAA,wBACAwB,EAAAC,UAAA,GACAlB,EAAAmB,QAAAC,IACAL,QAAAC,IAAAI,GACA,MAAAC,EAAA7B,SAAA8B,cAAA,OACAD,EAAAxB,UAAA0B,IAAA,sBAEA,MAAAC,EAAAhC,SAAA8B,cAAA,OACAE,EAAA3B,UAAA0B,IAAA,8BACAF,EAAAI,YAAAD,GAEA,MAAAE,EAAAlC,SAAA8B,cAAA,KACAI,EAAA7B,UAAA0B,IAAA,gCACAG,EAAAC,YAAAP,EAAAM,SACAL,EAAAI,YAAAC,GAEA,MAAAE,EAAApC,SAAA8B,cAAA,UACAM,EAAA/B,UAAA0B,IAAA,+BACAK,EAAAD,YAAA,UACAC,EAAAC,QAAAC,GAAAV,EAAAU,GACAT,EAAAI,YAAAG,GAEAX,EAAAQ,YAAAJ,KA9BAU,CAAAlB,GAEA,MAAAmB,KAjBAC,CAAAjC,OAXA","file":"bundle.js","sourcesContent":["(function (){\r\n    const lupa = document.getElementById(\"lupa\");\r\n    if (lupa){\r\n        const modal = document.getElementById(\"busqueda\");\r\n        const input = document.getElementById(\"busqueda__input\");\r\n        lupa.onclick =  function (){\r\n            modal.classList.toggle(\"mostrar\")\r\n        }\r\n        input.addEventListener(\"input\", function(){\r\n            let busqueda = this.value;\r\n            if(busqueda.length > 3 ){\r\n                busquedaUsuarios(busqueda);\r\n            }\r\n        })\r\n\r\n        async function busquedaUsuarios(busqueda) {\r\n            const datos = new FormData();\r\n            datos.append(\"busqueda\", busqueda);\r\n            try {\r\n                const url = \"http://localhost:3000/api/busquedaamigos\";\r\n                const respuesta = await fetch(url, {\r\n                    method:\"POST\",\r\n                    body:datos\r\n                });\r\n                const resultado = await respuesta.json();\r\n                if(resultado){\r\n                    mostrarResultados(resultado)\r\n                }\r\n            } catch (error){\r\n\r\n            }\r\n        }\r\n        function mostrarResultados(busqueda){\r\n            console.log(busqueda);\r\n            const resultados = document.getElementById(\"busqueda__resultados\");\r\n            resultados.innerHTML = \"\"\r\n            busqueda.forEach(e => {\r\n                console.log(e);\r\n                const usuario = document.createElement(\"DIV\");\r\n                usuario.classList.add(\"busqueda-resultado\")\r\n\r\n                const imagen = document.createElement(\"DIV\");\r\n                imagen.classList.add(\"busqueda-resultado__imagen\");\r\n                usuario.appendChild(imagen);\r\n\r\n                const nickname = document.createElement(\"P\")\r\n                nickname.classList.add(\"busqueda-resultado__nickname\");\r\n                nickname.textContent = e.nickname;\r\n                usuario.appendChild(nickname);\r\n\r\n                const botonAgregar = document.createElement(\"BUTTON\");\r\n                botonAgregar.classList.add(\"busqueda-resultado__agregar\");\r\n                botonAgregar.textContent = \"Agregar\";\r\n                botonAgregar.dataset.id = e.id;\r\n                usuario.appendChild(botonAgregar);\r\n\r\n                resultados.appendChild(usuario)\r\n            });\r\n        }\r\n    }\r\n})();"]}