!function(){const t=document.getElementById("lupa");if(t){const n=document.getElementById("busqueda"),a=document.getElementById("busqueda__input");function e(t){const{usuarioAmigoId:e,estado:n}=t,a=document.querySelector(`[data-id="${e}"]`);0==n&&(a.textContent="Enviado",a.disabled=!0)}t.onclick=function(){n.classList.toggle("mostrar")},a.addEventListener("input",(function(){let t=this.value;t.length>3&&async function(t){const n=new FormData;n.append("busqueda",t);try{const t="http://localhost:3000/api/busquedaamigos",a=await fetch(t,{method:"POST",body:n}),o=await a.json();o&&function(t){const n=document.getElementById("busqueda__resultados");n.innerHTML="",t.forEach(t=>{const a=document.createElement("DIV");a.classList.add("busqueda-resultado");const o=document.createElement("DIV");o.classList.add("busqueda-resultado__imagen"),a.appendChild(o);const c=document.createElement("P");c.classList.add("busqueda-resultado__nickname"),c.textContent=t.nickname,a.appendChild(c);const d=document.createElement("BUTTON");d.classList.add("busqueda-resultado__agregar"),d.textContent="Agregar",d.dataset.id=t.id,async function(t){const n=new FormData;n.append("amigoId",t);try{const t="http://localhost:3000/api/estadorelacion",a=await fetch(t,{method:"POST",body:n}),o=await a.json();o&&(console.log(o),e(o))}catch(t){}}(t.id),d.addEventListener("click",()=>{!async function(t){const n=new FormData;n.append("amigoId",t);try{const t="http://localhost:3000/api/agregaamigo",a=await fetch(t,{method:"POST",body:n}),o=await a.json();o&&e(o)}catch(t){}}(t.id)}),a.appendChild(d),n.appendChild(a)})}(o)}catch(t){}}(t)}))}}(),function(){const t=document.getElementById("campana");if(t){const e=document.getElementById("notificaciones");t.onclick=function(){e.classList.toggle("mostrar"),async function(){try{const t="http://localhost:3000/api/notificaciones",n=await fetch(t,{method:"POST"}),a=await n.json();a&&(console.log(a),function(t){if(console.log(t),e.innerHTML="",0==t.length){const t=document.createElement("P");t.textContent="No Tienes Solicitudes de amistad",t.classList.add("notificacion__vacio"),e.append(t)}t.forEach(t=>{const n=document.createElement("DIV");n.classList.add("notificacion");const a=document.createElement("DIV");a.classList.add("notificacion__imagen"),n.appendChild(a);const o=document.createElement("P");o.classList.add("notificacion__nickname"),o.dataset.nick=t.usuarioId,n.appendChild(o);const c=document.createElement("BUTTON");c.classList.add("notificacion__agregar"),c.textContent="Agregar",c.dataset.id=t.id,c.addEventListener("click",()=>{!async function(t){const e=document.querySelector(`[data-id="${t}"]`);try{const n="http://localhost:3000/api/agregar",a=new FormData;a.append("id",t);const o=await fetch(n,{method:"POST",body:a}),c=await o.json();c&&(console.log(c),e.textContent="Agregado")}catch(t){}}(t.id)}),n.appendChild(c),e.appendChild(n)})}(a),a.forEach(t=>{!async function(t){const e=document.querySelector(`[data-nick="${t}"]`);try{const n="http://localhost:3000/api/buscarNombre",a=new FormData;a.append("id",t);const o=await fetch(n,{method:"POST",body:a}),c=await o.json();c&&(console.log(c.nickname),e.textContent=c.nickname)}catch(t){}}(t.usuarioId)}))}catch(t){}}()}}}();
//# sourceMappingURL=bundle.js.map
